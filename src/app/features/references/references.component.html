<section class="references-section">
    <div class="references-headline">
        <h3>What my colleagues say about me</h3>
    </div>
    <div class="references-card-container fade-cards" (transitionend)="resetCardAnimation($event)">

        @for (reference of referencesArray; track reference; let index = $index;) {

            <div class="references-card" 
                [class.references-card-left-off]="(index === getIndexLeftOff())"
                [class.references-card-left]="index === getIndexLeft()"
                [class.references-card-activ]="index === currentIndex"
                [class.references-card-right]="index === getIndexRight()"
                [class.references-card-right-off]="(index === getIndexRightOff())"
                [class.no-animation]="index === noAnimationIndex"
                >
                
                <app-card [cardIsActiv]="index === currentIndex" [cardType]="'references'">
                    <article class="references-card-content z1" cardReferences>
                        <p class="references-comment">
                            {{ reference.comment }}
                        </p>
                        <aside class="references-writer-container">
                            <div class="writer-columns-one">
                                <div></div>
                            </div>
                            <span class="references-writer">{{ reference.writer }}</span>
                        </aside>
                    </article>
                </app-card>
            </div>
        }

        <div class="quotes-container">
            <img src="/assets/icon/quotes.svg" alt="icon" class="quotes-icon">
        </div>

    </div>

    <aside class="reference-button-container">
        <button class="reference-swipe-btn btn-back" type="button" (click)="referencesBackClick()">
            <div class="reference-swipe-btn-img-container">
                <img alt="icon" src="/assets/icon/arrowsLeftWhite.svg" class="reference-arrow-left reference-arrow-left-white">
                <img alt="icon" src="/assets/icon/arrowBackGreen.svg" class="reference-arrow-left reference-arrow-left-green">
            </div>
        </button>
        @for(dot of [0,1,2]; track dot; let index = $index){
            <div class="reference-swipe-dot"
                [class.dot-green]="index === currentDotIndex"
                [class.dot-white]="index !== currentDotIndex"
            ></div>
        }
        <button class="reference-swipe-btn btn-forward" type="button" (click)="referencesForwardClick()">
            <div class="reference-swipe-btn-img-container">
                <img alt="icon" src="/assets/icon/arrowForwardWhite.svg" class="reference-arrow-left reference-arrow-right-white">
                <img alt="icon" src="/assets/icon/arrowForwardGreen.svg" class="reference-arrow-left reference-arrow-right-green">
            </div>
        </button>
    </aside>

</section>